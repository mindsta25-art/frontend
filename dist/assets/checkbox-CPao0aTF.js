import{j as e,c as r,a as t,h as o,K as n,u as a,i as s,ac as c,ad as d}from"./ui-BFkRrjhf.js";import{r as i}from"./vendor-ClsjX3Mm.js";import{g as l}from"./index-CgruMJ9X.js";import{aB as u}from"./icons-Udnp6KR8.js";var f="Checkbox",[p]=r(f),[h,b]=p(f);function m(r){const{__scopeCheckbox:t,checked:o,children:a,defaultChecked:s,disabled:c,form:d,name:l,onCheckedChange:u,required:p,value:b="on",internal_do_not_use_render:m}=r,[k,C]=n({prop:o,defaultProp:s??!1,onChange:u,caller:f}),[x,v]=i.useState(null),[y,_]=i.useState(null),g=i.useRef(!1),R=!x||(!!d||!!x.closest("form")),E={checked:k,disabled:c,setChecked:C,control:x,setControl:v,name:l,form:d,value:b,hasConsumerStoppedPropagationRef:g,required:p,defaultChecked:!w(s)&&s,isFormControl:R,bubbleInput:y,setBubbleInput:_};return e.jsx(h,{scope:t,...E,children:j(m)?m(E):a})}var k="CheckboxTrigger",C=i.forwardRef(({__scopeCheckbox:r,onKeyDown:t,onClick:n,...c},d)=>{const{control:l,value:u,disabled:f,checked:p,required:h,setControl:m,setChecked:C,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:y}=b(k,r),_=a(d,m),g=i.useRef(p);return i.useEffect(()=>{const e=null==l?void 0:l.form;if(e){const r=()=>C(g.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[l,C]),e.jsx(o.button,{type:"button",role:"checkbox","aria-checked":w(p)?"mixed":p,"aria-required":h,"data-state":R(p),"data-disabled":f?"":void 0,disabled:f,value:u,...c,ref:_,onKeyDown:s(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:s(n,e=>{C(e=>!!w(e)||!e),y&&v&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});C.displayName=k;var x=i.forwardRef((r,t)=>{const{__scopeCheckbox:o,name:n,checked:a,defaultChecked:s,required:c,disabled:d,value:i,onCheckedChange:l,form:u,...f}=r;return e.jsx(m,{__scopeCheckbox:o,checked:a,defaultChecked:s,disabled:d,required:c,onCheckedChange:l,name:n,form:u,value:i,internal_do_not_use_render:({isFormControl:r})=>e.jsxs(e.Fragment,{children:[e.jsx(C,{...f,ref:t,__scopeCheckbox:o}),r&&e.jsx(g,{__scopeCheckbox:o})]})})});x.displayName=f;var v="CheckboxIndicator",y=i.forwardRef((r,n)=>{const{__scopeCheckbox:a,forceMount:s,...c}=r,d=b(v,a);return e.jsx(t,{present:s||w(d.checked)||!0===d.checked,children:e.jsx(o.span,{"data-state":R(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:n,style:{pointerEvents:"none",...r.style}})})});y.displayName=v;var _="CheckboxBubbleInput",g=i.forwardRef(({__scopeCheckbox:r,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:l,checked:u,defaultChecked:f,required:p,disabled:h,name:m,value:k,form:C,bubbleInput:x,setBubbleInput:v}=b(_,r),y=a(n,v),g=c(u),j=d(s);i.useEffect(()=>{const e=x;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,o=!l.current;if(g!==u&&t){const r=new Event("click",{bubbles:o});e.indeterminate=w(u),t.call(e,!w(u)&&u),e.dispatchEvent(r)}},[x,g,u,l]);const R=i.useRef(!w(u)&&u);return e.jsx(o.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??R.current,required:p,disabled:h,name:m,value:k,form:C,...t,tabIndex:-1,ref:y,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function j(e){return"function"==typeof e}function w(e){return"indeterminate"===e}function R(e){return w(e)?"indeterminate":e?"checked":"unchecked"}g.displayName=_;const E=i.forwardRef(({className:r,...t},o)=>e.jsx(x,{ref:o,className:l("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:e.jsx(y,{className:l("flex items-center justify-center text-current"),children:e.jsx(u,{className:"h-4 w-4"})})}));E.displayName=x.displayName;export{E as C};
