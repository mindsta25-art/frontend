import{j as e}from"./ui-BFkRrjhf.js";import{h as s,r}from"./vendor-ClsjX3Mm.js";import{a,B as t}from"./index-CgruMJ9X.js";import{S as i,g as l}from"./StudentHeader-BEY8Ekm7.js";import{S as n}from"./StudentFooter-C3Tmumug.js";import{W as o}from"./WhatsAppButton-C771FwVp.js";import{C as d,a as c,b as m,c as x}from"./card-COhXL4y3.js";import{B as u}from"./badge-CO1u2g-4.js";import{g,a as p}from"./enrollments-ZADooVCN.js";import{getLessons as h}from"./lessons-BDW73QPv.js";import{g as j}from"./siteConfig-BOV2ERHg.js";import{n as b,A as f,g as N,f as v,K as y,o as w,B as k,h as C,j as S,t as $,D as A,u as B}from"./icons-Udnp6KR8.js";import{m as G}from"./animations-B9X9lRsG.js";import"./charts-DeubIqjP.js";import"./input-K7STGv4F.js";import"./separator-D-EoJ3Ty.js";import"./select-BhEU0EIQ.js";import"./scroll-area-DkFg0wM_.js";import"./formatDistanceToNow-Bf1kdoXg.js";import"./mindsta2-LbsrOUWs.js";const L=()=>{var L;const E=s(),{user:H}=a(),[M,T]=r.useState(null),[W,z]=r.useState([]),[P,D]=r.useState([]),[F,O]=r.useState([]),[Q,_]=r.useState([]),[q,I]=r.useState(!0);r.useEffect(()=>{(async()=>{if(null==H?void 0:H.id)try{I(!0);const[e,s,r,a]=await Promise.all([l(H.id),g(H.id),p(),h()]);T(e),z(s||[]),D(r||[]),O(a||[]);const t=a.filter(e=>r.some(s=>s.subject===e.subject&&s.grade===e.grade&&s.term===e.term)).map(e=>({...e,isEnrolled:!0}));_(t)}catch(e){}finally{I(!1)}})()},[null==H?void 0:H.id]);const K=W.filter(e=>e.completed).length,R=Q.length,U=R>0?Math.round(K/R*100):0,V=Q.slice(0,3),X=[{icon:k,title:"Browse Courses",description:"Explore all available lessons",gradient:"from-blue-500 to-cyan-500",action:()=>E("/browse")},{icon:C,title:"My Learning",description:"Continue your enrolled courses",gradient:"from-purple-500 to-pink-500",action:()=>E("/my-learning")},{icon:S,title:"Find My Grade",description:"Take an assessment to find your level",gradient:"from-green-500 to-emerald-500",action:()=>E("/grade-assessment")},{icon:w,title:"All Subjects",description:"Browse by subject area",gradient:"from-orange-500 to-red-500",action:()=>E("/all-subjects")}],Y=[{icon:b,label:"Enrolled Courses",value:R.toString(),gradient:"from-blue-500 to-cyan-500"},{icon:f,label:"Completed",value:K.toString(),gradient:"from-green-500 to-emerald-500"},{icon:N,label:"Progress",value:`${U}%`,gradient:"from-purple-500 to-pink-500"},{icon:v,label:"Current Grade",value:(null==M?void 0:M.grade)||"N/A",gradient:"from-orange-500 to-red-500"}];return q?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(i,{studentName:null==M?void 0:M.fullName}),e.jsx("div",{className:"pt-20 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your dashboard..."})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(i,{studentName:null==M?void 0:M.fullName}),e.jsx(o,{}),e.jsx("main",{className:"pt-20 pb-16",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-cyan-500 rounded-2xl p-8 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(y,{className:"w-8 h-8"}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold",children:["Welcome back, ",(null==(L=null==M?void 0:M.fullName)?void 0:L.split(" ")[0])||"Student","! ðŸ‘‹"]})]}),e.jsxs("p",{className:"text-lg opacity-90 mb-4",children:[null==M?void 0:M.schoolName," â€¢ Grade ",null==M?void 0:M.grade]}),e.jsx("p",{className:"text-white/80 max-w-2xl",children:"Continue your learning journey or explore new topics today!"})]})}),e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:Y.map((s,r)=>e.jsx(d,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(c,{className:"p-6",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${s.gradient} rounded-lg flex items-center justify-center mb-4`,children:e.jsx(s.icon,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:s.value}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.label})]})},r))}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs(G.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"lg:col-span-2",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"Quick Actions"]})}),e.jsx(c,{children:e.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:X.map((s,r)=>e.jsxs(G.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s.action,className:"text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-indigo-500 dark:hover:border-indigo-400 transition-all group",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${s.gradient} rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform`,children:e.jsx(s.icon,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-lg mb-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]},r))})})]}),V.length>0&&e.jsxs(d,{className:"mt-6",children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5"}),"Continue Learning"]}),e.jsxs(t,{variant:"ghost",size:"sm",onClick:()=>E("/my-learning"),className:"text-indigo-600 dark:text-indigo-400",children:["View All",e.jsx(A,{className:"w-4 h-4 ml-1"})]})]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:V.map(s=>{const r=W.some(e=>e.lessonId===s.id&&e.completed);return e.jsx(G.button,{whileHover:{scale:1.01},onClick:()=>{const e=s.subject.toLowerCase().replace(/\s+/g,"-");E(`/grade/${s.grade}/${e}/lesson/${s.id}`)},className:"w-full p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-indigo-500 dark:hover:border-indigo-400 transition-all text-left group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-cyan-500 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(k,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold mb-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors line-clamp-1",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(u,{variant:"outline",className:"text-xs",children:s.subject}),e.jsxs(u,{variant:"outline",className:"text-xs",children:["Grade ",s.grade]}),r&&e.jsxs(u,{className:"text-xs bg-green-500",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]}),e.jsx(B,{className:"w-5 h-5 text-muted-foreground group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors flex-shrink-0"})]})},s.id)})})})]})]}),e.jsxs(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"space-y-6",children:[e.jsxs(d,{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-purple-200 dark:border-purple-800",children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2 text-purple-900 dark:text-purple-100",children:[e.jsx(y,{className:"w-5 h-5"}),"Learning Tip"]})}),e.jsxs(c,{children:[e.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-200 mb-4",children:"Set aside 30 minutes daily for consistent learning. Small, regular study sessions are more effective than cramming!"}),e.jsx(t,{variant:"outline",size:"sm",className:"w-full border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-900/40",onClick:()=>E("/browse"),children:"Start Learning"})]})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5"}),"Explore by Grade"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6].map(s=>e.jsxs(t,{variant:"outline",className:"w-full justify-start",onClick:()=>E(`/all-grades?grade=${s}`),children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-cyan-500 rounded-lg flex items-center justify-center text-white font-bold mr-3",children:s}),"Grade ",s]},s))})})]}),e.jsxs(d,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border-blue-200 dark:border-blue-800",children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2 text-blue-900 dark:text-blue-100",children:[e.jsx(k,{className:"w-5 h-5"}),"Need Help?"]})}),e.jsxs(c,{children:[e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 mb-4",children:"Our support team is here to assist you with any questions about your learning journey."}),e.jsx(t,{variant:"outline",size:"sm",className:"w-full border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/40",onClick:()=>window.open(j(),"_blank"),children:"Contact Support"})]})]})]})]})]})}),e.jsx(n,{})]})};export{L as default};
